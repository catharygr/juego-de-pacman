const puntosDisplay=document.querySelector(".puntos-display"),tablero=document.querySelector(".tablero");let puntos=0;const anchura=28,losCuadrados=[],diseño=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,3,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,4,4,4,4,4,4,4,4,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,2,2,2,2,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,4,4,4,4,4,4,0,0,0,4,1,2,2,2,2,2,2,1,4,0,0,0,4,4,4,4,4,4,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,3,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function crearCuadraditos(){for(let a=0;a<diseño.length;a++){const s=document.createElement("div");s.classList.add("el-cuadradito"),tablero.appendChild(s),losCuadrados.push(s),0===diseño[a]?losCuadrados[a].classList.add("los-puntitos"):1===diseño[a]?losCuadrados[a].classList.add("el-muro"):2===diseño[a]?losCuadrados[a].classList.add("habitacion"):3===diseño[a]&&losCuadrados[a].classList.add("super-poder")}console.log(losCuadrados)}crearCuadraditos();let pacmanUbicacion=490;function moverPacman(a){switch(losCuadrados[pacmanUbicacion].classList.remove("pac-man-arriba","pac-man-abajo","pac-man-izquierda","pac-man-derecha","pac-man"),a.key){case"ArrowUp":!losCuadrados[pacmanUbicacion-28].classList.contains("el-muro")&&!losCuadrados[pacmanUbicacion-28].classList.contains("habitacion")&&pacmanUbicacion-28>=0&&(pacmanUbicacion-=28),losCuadrados[pacmanUbicacion].classList.add("pac-man-arriba","pac-man");break;case"ArrowDown":!losCuadrados[pacmanUbicacion+28].classList.contains("el-muro")&&!losCuadrados[pacmanUbicacion+28].classList.contains("habitacion")&&pacmanUbicacion+28<784&&(pacmanUbicacion+=28),losCuadrados[pacmanUbicacion].classList.add("pac-man-abajo","pac-man");break;case"ArrowLeft":losCuadrados[pacmanUbicacion-1].classList.contains("el-muro")||losCuadrados[pacmanUbicacion-1].classList.contains("habitacion")||pacmanUbicacion%28==0||(pacmanUbicacion-=1),losCuadrados[pacmanUbicacion].classList.add("pac-man-izquierda","pac-man");break;case"ArrowRight":losCuadrados[pacmanUbicacion+1].classList.contains("el-muro")||losCuadrados[pacmanUbicacion+1].classList.contains("habitacion")||pacmanUbicacion%28==27||(pacmanUbicacion+=1),losCuadrados[pacmanUbicacion].classList.add("pac-man-derecha","pac-man")}comerPuntitos(),comerFruta(),hasPerdido(),hasGanado()}function comerFruta(){losCuadrados[pacmanUbicacion].classList.contains("super-poder")&&(losCuadrados[pacmanUbicacion].classList.remove("super-poder"),puntos+=10,losFantasmas.forEach(a=>a.estarAsustado=!0),setTimeout(noAsustar,1e4))}function noAsustar(){losFantasmas.forEach(a=>a.estarAsustado=!1)}function comerPuntitos(){losCuadrados[pacmanUbicacion].classList.contains("los-puntitos")&&(losCuadrados[pacmanUbicacion].classList.remove("los-puntitos"),puntos++,puntosDisplay.innerHTML=puntos)}losCuadrados[pacmanUbicacion].classList.add("pac-man-arriba"),losCuadrados[pacmanUbicacion].classList.add("pac-man-abajo"),losCuadrados[pacmanUbicacion].classList.add("pac-man-izquierda"),losCuadrados[pacmanUbicacion].classList.add("pac-man-derecha"),document.addEventListener("keydown",moverPacman);class Fantasma{constructor(a,s,o){this.nombre=a,this.dondeEmpieza=s,this.velocidad=o,this.fantasmaUbicacion=s,this.estarAsustado=!1,this.timerId=NaN}}const losFantasmas=[new Fantasma("pinky",376,400),new Fantasma("blinky",348,250),new Fantasma("inky",351,300),new Fantasma("clyde",379,500)];function moverFantasma(a){const s=[-1,1,-28,28];let o=s[Math.floor(Math.random()*s.length)];a.timerId=setInterval((function(){losCuadrados[a.fantasmaUbicacion+o].classList.contains("el-muro")||losCuadrados[a.fantasmaUbicacion+o].classList.contains("clase-fantasma")?o=s[Math.floor(Math.random()*s.length)]:(losCuadrados[a.fantasmaUbicacion].classList.remove(a.nombre),losCuadrados[a.fantasmaUbicacion].classList.remove("clase-fantasma","espiritu-asustado"),a.fantasmaUbicacion+=o,losCuadrados[a.fantasmaUbicacion].classList.add(a.nombre),losCuadrados[a.fantasmaUbicacion].classList.add("clase-fantasma")),!0===a.estarAsustado&&losCuadrados[a.fantasmaUbicacion].classList.add("espiritu-asustado"),a.estarAsustado&&losCuadrados[a.fantasmaUbicacion].classList.contains("pac-man")&&(losCuadrados[a.fantasmaUbicacion].classList.remove(a.nombre,"clase-fantasma","espiritu-asustado","pac-man-arriba","pac-man-abajo","pac-man-izquierda","pac-man-derecha"),a.fantasmaUbicacion=a.dondeEmpieza,puntos+=100,losCuadrados[a.fantasmaUbicacion].classList.add(a.nombre,"clase-fantasma")),hasPerdido()}),a.velocidad)}function hasPerdido(){losCuadrados[pacmanUbicacion].classList.contains("clase-fantasma")&&!losCuadrados[pacmanUbicacion].classList.contains("espiritu-asustado")&&(losFantasmas.forEach(a=>clearInterval(a.timerId)),document.removeEventListener("keydown",moverPacman),puntosDisplay.innerHTML="Has Perdido")}function hasGanado(){700===puntos&&(losFantasmas.forEach(a=>clearInterval(a.timerId)),document.removeEventListener("keydown",moverPacman),puntosDisplay.innerHTML="Has Ganado")}losFantasmas.forEach(a=>{losCuadrados[a.dondeEmpieza].classList.add(a.nombre),losCuadrados[a.dondeEmpieza].classList.add("clase-fantasma")}),losFantasmas.forEach(a=>moverFantasma(a));